<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="icon" href="/admin/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/admin/apple-touch-icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#2bbbad">
  <link rel="manifest" href="/admin/manifest.webmanifest">
  <meta name="viewport" content="width=device-width">
  <title>Admin :: Blood MV</title>
  <meta name="Description" content="A database of Maldivian blood donors and blood requests">
  <link rel="preconnect" href="https://firestore.googleapis.com">
  <link rel="stylesheet" href="/css/materialize.min.css">
  <link rel="stylesheet" href="/css/default.css">
</head>
<body>
  <div class="navbar-fixed">
    <nav class="teal">
      <a data-target="nav-mobile" class="sidenav-trigger">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
        </svg>
      </a>
      <div class="nav-wrapper container"><a id="logo-container" class="brand-logo">Blood MV</a>
        <ul class="right hide-on-med-and-down">
          <li class="waves-effect" id="nav-d-donors"><a href="/">Donors</a></li>
          <li class="waves-effect" id="nav-d-requests"><a href="/requests/">Requests</a></li>
          <li class="waves-effect" id="nav-d-requestsadd"><a href="/requests/add/">Add Request</a></li>
          <li class="waves-effect" id="nav-d-add"><a href="/add/">Add Donor</a></li>
          <li class="waves-effect" id="nav-d-notify"><a href="/notify/">Notify</a></li>
          <li class="waves-effect active" id="nav-d-admin"><a href="/admin/">Admin</a></li>
          <li id="nav-d-sign">
            <a class="dropdown-trigger" data-target="drop-acc">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                <path d="M0 0h24v24H0z" fill="none"/>
              </svg>
            </a>
          </li>
        </ul>
        <ul id="drop-acc" class="dropdown-content collection">
          <li class="collection-item avatar">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
            <span class="black-text title">Not Signed in</span>
            <span class="black-text email">Sign in to add / edit records</span>
          </li>
          <li class="divider"></li>
          <li class="waves-effect"><a>Sign in</a></li>
        </ul>
      </div>
    </nav>
  </div>
  <div class="progress"><div class="indeterminate"></div></div>
  <ul id="nav-mobile" class="sidenav">
    <li class="teal">
      <div class="user-view">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
          <path d="M0 0h24v24H0z" fill="none"/>
        </svg>
        <span class="white-text name">Not Signed in</span>
        <span class="white-text email">Sign in to add / edit records</span>
      </div>
    </li>
    <li class="waves-effect waves-orange" id="nav-m-donors">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
          <path d="M0 0h24v24H0z" fill="none"/>
        </svg>
        Donors
      </a>
    </li>
    <li class="waves-effect waves-orange" id="nav-m-requests">
      <a href="/requests/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
          <path d="M0 0h24v24H0z" fill="none"/>
        </svg>
        Requests
      </a>
    </li>
    <li class="waves-effect waves-orange" id="nav-m-requestsadd">
      <a href="/requests/add/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"/>
        </svg>
        Add Request
      </a>
    </li>
    <li class="waves-effect waves-orange" id="nav-m-add">
      <a href="/add/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
          <path d="M0 0h24v24H0z" fill="none"/>
        </svg>
        Add Donor
      </a>
    </li>
    <li class="waves-effect waves-orange" id="nav-m-notify">
      <a href="/notify/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"/>
          <path d="M0 0h24v24H0z" fill="none"/>
        </svg>
        Notify
      </a>
    </li>
    <li class="waves-effect waves-orange active" id="nav-m-admin">
      <a href="/admin/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
        </svg>
        Admin
      </a>
    </li>
     <li class="waves-effect waves-orange" id="nav-m-sign">
      <a>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
        </svg>
        Sign in
      </a>
    </li>
  </ul>
  <div class="section no-pad-bot admin-page" id="content">
    <div class="container">
      <br>
      <div class="section">
        <p>Adds the signed in user as an admin, provided that it is allowed by the backend.</p>
        <a class="waves-effect waves-light btn" id="add-claim">Add Claim</a>
        &nbsp;&nbsp;
        <div class="preloader-wrapper small active admin-loader" id="add-claim-loader">
          <div class="spinner-layer spinner-blue-only">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>
        <br>
        <br>
        <span id="add-claim-result">&nbsp;</span>
      </div>
      <div class="section">
        <p>Mark blood requests older than a week, as fulfilled. This can be done to reduce the clutter of people not marking requests as fulfilled.</p>
        <a class="waves-effect waves-light btn" id="mark-fulfilled">Purge Old Requests</a>
        &nbsp;&nbsp;
        <div class="preloader-wrapper small active admin-loader" id="mark-fulfilled-loader">
          <div class="spinner-layer spinner-blue-only">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>
        <br>
        <br>
        <div id="mark-fulfilled-progress">&nbsp;</div>
        <br>
        <span id="mark-fulfilled-result">&nbsp;</span>
      </div>
      <div class="section">
        <p>Subscribe a token to a specific topic. Tokens can be manually subscribed to topics this way. It can be useful for testing purposes, such as subscribing a token to "test" topic.</p>
        <form class="col s12">
          <div class="row">
            <div class="input-field col s6">
              <input id="subscribe-token-token" type="text" class="validate" required>
              <label for="subscribe-token-token">Token</label>
            </div>
            <div class="input-field col s5">
              <input id="subscribe-token-topic" type="text" class="validate" required>
              <label for="subscribe-token-topic">Topic</label>
            </div>
          </div>
          <div class="row">
            <div class="col s12">
              <a class="waves-effect waves-light btn" id="subscribe-token">Subscribe</a>
              &nbsp;&nbsp;
              <div class="preloader-wrapper small active admin-loader" id="subscribe-token-loader">
                <div class="spinner-layer spinner-blue-only">
                  <div class="circle-clipper left">
                    <div class="circle"></div>
                  </div><div class="gap-patch">
                    <div class="circle"></div>
                  </div><div class="circle-clipper right">
                    <div class="circle"></div>
                  </div>
                </div>
              </div>
              <br>
              <br>
              <span id="subscribe-token-result">&nbsp;</span>
            </div>
          </div>
        </form>
      </div>
      <div class="section">
        <p>Display subscription details about a token. This is useful for checking if a token has been subscribed to specific topics or not, also other details.</p>
        <form class="col s12">
          <div class="row">
            <div class="input-field col s11">
              <input id="token-details-token" type="text" class="validate" required>
              <label for="token-details-token">Token</label>
            </div>
          </div>
          <div class="row">
            <div class="col s12">
              <a class="waves-effect waves-light btn" id="token-details">Show Token Details</a>
              &nbsp;&nbsp;
              <div class="preloader-wrapper small active admin-loader" id="token-details-loader">
                <div class="spinner-layer spinner-blue-only">
                  <div class="circle-clipper left">
                    <div class="circle"></div>
                  </div><div class="gap-patch">
                    <div class="circle"></div>
                  </div><div class="circle-clipper right">
                    <div class="circle"></div>
                  </div>
                </div>
              </div>
              <br>
              <br>
              <span id="token-details-result">&nbsp;</span>
            </div>
          </div>
        </form>
      </div>
      <div class="section">
        <p>Send a push message to a specific topic. This can be useful for testing purposes.</p>
        <form class="col s12">
          <div class="row">
            <div class="input-field col s6">
              <input id="send-message-message" type="text" class="validate" required>
              <label for="send-message-message">Message</label>
            </div>
            <div class="input-field col s5">
              <input id="send-message-topic" type="text" class="validate" required>
              <label for="send-message-topic">Topic</label>
            </div>
          </div>
          <div class="row">
            <div class="col s12">
              <a class="waves-effect waves-light btn" id="send-message">Send Message</a>
              &nbsp;&nbsp;
              <div class="preloader-wrapper small active admin-loader" id="send-message-loader">
                <div class="spinner-layer spinner-blue-only">
                  <div class="circle-clipper left">
                    <div class="circle"></div>
                  </div><div class="gap-patch">
                    <div class="circle"></div>
                  </div><div class="circle-clipper right">
                    <div class="circle"></div>
                  </div>
                </div>
              </div>
              <br>
              <br>
              <span id="send-message-result">&nbsp;</span>
            </div>
          </div>
        </form>
      </div>
      <div class="section">
        <p>Show list of users. This shows the list of signed up users by their email addresses and user IDs.</p>
        <a class="waves-effect waves-light btn" id="list-users">List Users</a>
        &nbsp;&nbsp;
        <div class="preloader-wrapper small active admin-loader" id="list-users-loader">
          <div class="spinner-layer spinner-blue-only">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>
        <br>
        <br>
        <span id="list-users-result">&nbsp;</span>
      </div>
    </div>
  </div>
  <br><br>
  <footer class="page-footer blue-grey darken-2">
    <div class="container">
      <div class="row">
        <div class="col l8 s12">
          <h5 class="white-text">Blood MV</h5>
          <p class="white-text">Blood MV is a database of Maldivian blood donors, also
          consisiting of blood requests and options to notify when new blood requests are added.<br>
          PS: Location and contact details provided are not to be deemed current and up to date. You are
          advised to contact donors / requesters and confirm the details.</p>
        </div>
      </div>
    </div>
    <div class="footer-copyright blue-grey darken-3">
      <div class="container white-text">Made by <a class="yellow-text lighten-4" href="https://ameer.io" target="_blank" rel="noreferrer">Ameer Dawood</a></div>
    </div>
  </footer>
  <div class="a2hs-banner">
    <img class="a2hs-img" src="/admin/icons/windows/windowsphone-appicon-44-44.png" alt="icon">
    <div class="a2hs-add">Install Blood MV Admin App</div>
    <div class="a2hs-close">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        <path d="M0 0h24v24H0z" fill="none"/>
      </svg>
    </div>
  </div>
  <script src="/__/firebase/5.5.7/firebase-app.js"></script>
  <script src="/__/firebase/5.5.7/firebase-firestore.js"></script>
  <script src="/__/firebase/5.5.7/firebase-auth.js"></script>
  <script src="/__/firebase/5.5.7/firebase-messaging.js"></script>
  <script src="/__/firebase/init.js"></script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/materialize.min.js"></script>
  <script src="/js/init.js"></script>
  <script src="/js/admin.js"></script>
</body>
</html>
